import{j as e}from"./ui-vendor-CWP_eYGj.js";import{f,r as a}from"./react-vendor-BCzOm2YP.js";import{C,b as N,c as b,d as P,I as w,a as s,t as h}from"./index-D8i8dsVp.js";import{L as i}from"./label-F-9tIvCA.js";import{T as S}from"./textarea-CkkEAN6F.js";import{D as F}from"./DashboardLayout-CkxF6x1T.js";import{Q as k,X as L}from"./utils-CgNX-I3X.js";import"./supabase-Bc-83CNV.js";import"./clerk-dvj8YAJP.js";const A=()=>{const l=f(),[r,n]=a.useState([]),[p,u]=a.useState(""),[m,x]=a.useState(""),[c,d]=a.useState(!1),g=t=>{t.target.files&&n(Array.from(t.target.files))},j=t=>{n(r.filter((o,y)=>y!==t))},v=async()=>{d(!0);try{await new Promise(t=>setTimeout(t,1500)),h({title:"Photos Updated",description:"Your venue photos have been successfully updated."}),l("/admin/venue")}catch{h({title:"Upload Failed",description:"There was an error uploading your photos.",variant:"destructive"})}finally{d(!1)}};return e.jsx(F,{children:e.jsx("div",{className:"container mx-auto max-w-4xl px-4 py-8",children:e.jsxs(C,{children:[e.jsx(N,{children:e.jsx(b,{className:"text-2xl",children:"Venue Photo Gallery"})}),e.jsxs(P,{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"category",children:"Photo Category"}),e.jsxs("select",{id:"category",className:"w-full mt-1 px-3 py-2 border rounded-md",value:m,onChange:t=>x(t.target.value),children:[e.jsx("option",{value:"",children:"Select Category"}),e.jsx("option",{value:"exterior",children:"Exterior"}),e.jsx("option",{value:"interior",children:"Interior"}),e.jsx("option",{value:"stage",children:"Stage/Runway"}),e.jsx("option",{value:"backstage",children:"Backstage"}),e.jsx("option",{value:"amenities",children:"Amenities"}),e.jsx("option",{value:"events",children:"Past Events"})]})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"caption",children:"Caption/Description"}),e.jsx(S,{id:"caption",value:p,onChange:t=>u(t.target.value),placeholder:"Describe the photo...",rows:3})]}),e.jsxs("div",{children:[e.jsx(i,{children:"Upload Venue Photos"}),e.jsxs("div",{className:"mt-2 border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[e.jsx(k,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Click to upload venue photos"}),e.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG up to 10MB each"}),e.jsx(w,{type:"file",multiple:!0,accept:"image/*",onChange:g,className:"hidden",id:"file-upload"}),e.jsx("label",{htmlFor:"file-upload",children:e.jsx(s,{variant:"outline",className:"mt-4",asChild:!0,children:e.jsx("span",{children:"Select Photos"})})})]})]}),r.length>0&&e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:r.map((t,o)=>e.jsxs("div",{className:"relative group",children:[e.jsx("img",{src:URL.createObjectURL(t),alt:t.name,className:"w-full h-32 object-cover rounded-lg"}),e.jsx(s,{size:"sm",variant:"destructive",className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition",onClick:()=>j(o),children:e.jsx(L,{className:"h-4 w-4"})})]},o))}),e.jsxs("div",{className:"flex justify-end gap-3",children:[e.jsx(s,{variant:"outline",onClick:()=>l("/admin/venue"),children:"Cancel"}),e.jsx(s,{onClick:v,disabled:c,children:c?"Uploading...":"Save Photos"})]})]})]})})})};export{A as default};
