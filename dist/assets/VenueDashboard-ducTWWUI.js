import{j as e}from"./ui-vendor-CWP_eYGj.js";import{f as q,r as D}from"./react-vendor-BCzOm2YP.js";import{B as x,a as h,C as n,b as l,c as o,d as c,m as f}from"./index-D8i8dsVp.js";import{S as _}from"./scroll-area-CR_G7Mdf.js";import{D as C}from"./DashboardLayout-CkxF6x1T.js";import{u}from"./useQuery-BcFEIjmL.js";import{s as g}from"./supabase-h9YFjl6R.js";import{f as B,z as M,W as S,O as L,o as R,C as N,J as w,D as E,a2 as V,j as v,g as P,_ as b,U as F,B as y,x as T,q as A}from"./utils-CgNX-I3X.js";import"./supabase-Bc-83CNV.js";import"./clerk-dvj8YAJP.js";const U=()=>{const p=u({queryKey:["venue-profile"],queryFn:async()=>{const{data:a,error:r}=await g.from("venues").select("*").limit(1).single();return r||!a?{id:"venue-1",name:"Grand Fashion Hall",location:"Downtown District",capacity:500,type:"Event Space",amenities:["Stage","Lighting","Sound System","Dressing Rooms"],rating:4.7,verified:!0}:a}}),t=u({queryKey:["venue-bookings"],queryFn:async()=>{const{data:a,error:r}=await g.from("venue_bookings").select(`
          *,
          events (event_name, start_datetime)
        `).order("booking_date",{ascending:!0});return r&&console.error("Venue bookings error:",r),(a==null?void 0:a.map(j=>({...j,eventType:["Fashion Show","Product Launch","Private Event","Photoshoot"][Math.floor(Math.random()*4)],setupTime:"2 hours",attendees:Math.floor(Math.random()*300+50)})))||[]}}),d=u({queryKey:["venue-upcoming-events"],queryFn:async()=>{const{data:a,error:r}=await g.from("events").select("*").in("status",["active","published","upcoming"]).order("start_datetime",{ascending:!0}).limit(6);return r&&console.error("Venue events error:",r),a||[]}}),m=u({queryKey:["venue-inquiries"],queryFn:async()=>{const{data:a,error:r}=await g.from("venue_inquiries").select("*").order("created_at",{ascending:!1}).limit(5);return r&&console.error("Venue inquiries error:",r),a||[]}}),i=u({queryKey:["venue-analytics"],queryFn:async()=>{const{count:a}=await g.from("venue_bookings").select("*",{count:"exact",head:!0}),{data:r}=await g.from("venue_bookings").select("total_amount").eq("status","confirmed"),s=(r==null?void 0:r.reduce((j,k)=>j+(k.total_amount||0),0))||0;return{totalBookings:a||12,occupancyRate:78,revenue:s||125e3,averageRating:4.7,bookingsGrowth:15,revenueGrowth:22,inquiriesCount:28}}});return{venue:p.data,bookings:t.data,upcomingEvents:d.data,inquiries:m.data,analytics:i.data,isLoading:p.isLoading||t.isLoading||d.isLoading||m.isLoading||i.isLoading}},X=()=>{const p=q();D.useState(null);const{venue:t,bookings:d,upcomingEvents:m,inquiries:i,analytics:a,isLoading:r}=U();return e.jsx(C,{children:e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-gray-50 to-gray-100",children:e.jsxs("div",{className:"container mx-auto max-w-[1400px] px-4 sm:px-6 lg:px-8 py-6 lg:py-8",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl lg:text-4xl font-bold text-gray-900",children:[(t==null?void 0:t.name)||"Venue"," Dashboard"]}),e.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[e.jsxs("span",{className:"text-gray-600 flex items-center gap-1",children:[e.jsx(B,{className:"h-4 w-4"}),(t==null?void 0:t.location)||"Location"]}),(t==null?void 0:t.verified)&&e.jsxs(x,{className:"bg-blue-500 text-white",children:[e.jsx(M,{className:"h-3 w-3 mr-1"}),"Verified Venue"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(S,{className:"h-4 w-4 fill-yellow-500 text-yellow-500"}),e.jsx("span",{className:"text-sm font-medium",children:(t==null?void 0:t.rating)||(a==null?void 0:a.averageRating)||4.7})]})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(h,{variant:"outline",className:"bg-white",onClick:()=>p("/admin/venue-photos"),children:[e.jsx(L,{className:"h-4 w-4 mr-2"}),"Update Photos"]}),e.jsxs(h,{className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700",onClick:()=>p("/admin/venue-availability"),children:[e.jsx(R,{className:"h-4 w-4 mr-2"}),"Add Availability"]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 lg:gap-6 mb-8",children:[e.jsxs(n,{className:"relative overflow-hidden border-0 shadow-lg hover:shadow-xl transition-all duration-300 bg-gradient-to-br from-purple-500 to-purple-600",children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white opacity-5 rounded-full -mr-16 -mt-16"}),e.jsx(l,{className:"pb-2",children:e.jsxs(o,{className:"text-sm font-medium text-white/90 flex items-center gap-2",children:[e.jsx("div",{className:"p-2 bg-white/20 rounded-lg",children:e.jsx(N,{className:"h-5 w-5 text-white"})}),"Total Bookings"]})}),e.jsxs(c,{children:[e.jsx("div",{className:"text-4xl font-bold text-white mb-1",children:r?"...":(a==null?void 0:a.totalBookings)||12}),e.jsxs("p",{className:"text-sm text-white/80 flex items-center gap-1",children:[e.jsx(w,{className:"h-3 w-3"}),"+",(a==null?void 0:a.bookingsGrowth)||15,"% this month"]})]})]}),e.jsxs(n,{className:"relative overflow-hidden border-0 shadow-lg hover:shadow-xl transition-all duration-300 bg-gradient-to-br from-green-500 to-emerald-600",children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white opacity-5 rounded-full -mr-16 -mt-16"}),e.jsx(l,{className:"pb-2",children:e.jsxs(o,{className:"text-sm font-medium text-white/90 flex items-center gap-2",children:[e.jsx("div",{className:"p-2 bg-white/20 rounded-lg",children:e.jsx(E,{className:"h-5 w-5 text-white"})}),"Revenue"]})}),e.jsxs(c,{children:[e.jsxs("div",{className:"text-4xl font-bold text-white mb-1",children:["$",r?"...":((a==null?void 0:a.revenue)/1e3).toFixed(0),"K"]}),e.jsxs("p",{className:"text-sm text-white/80 flex items-center gap-1",children:[e.jsx(w,{className:"h-3 w-3"}),"+",(a==null?void 0:a.revenueGrowth)||22,"% growth"]})]})]}),e.jsxs(n,{className:"relative overflow-hidden border-0 shadow-lg hover:shadow-xl transition-all duration-300 bg-gradient-to-br from-orange-500 to-amber-600",children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white opacity-5 rounded-full -mr-16 -mt-16"}),e.jsx(l,{className:"pb-2",children:e.jsxs(o,{className:"text-sm font-medium text-white/90 flex items-center gap-2",children:[e.jsx("div",{className:"p-2 bg-white/20 rounded-lg",children:e.jsx(V,{className:"h-5 w-5 text-white"})}),"Occupancy Rate"]})}),e.jsxs(c,{children:[e.jsxs("div",{className:"text-4xl font-bold text-white mb-1",children:[r?"...":(a==null?void 0:a.occupancyRate)||78,"%"]}),e.jsx("p",{className:"text-sm text-white/80",children:"This month"})]})]}),e.jsxs(n,{className:"relative overflow-hidden border-0 shadow-lg hover:shadow-xl transition-all duration-300 bg-gradient-to-br from-pink-500 to-rose-600",children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white opacity-5 rounded-full -mr-16 -mt-16"}),e.jsx(l,{className:"pb-2",children:e.jsxs(o,{className:"text-sm font-medium text-white/90 flex items-center gap-2",children:[e.jsx("div",{className:"p-2 bg-white/20 rounded-lg",children:e.jsx(v,{className:"h-5 w-5 text-white"})}),"Inquiries"]})}),e.jsxs(c,{children:[e.jsx("div",{className:"text-4xl font-bold text-white mb-1",children:r?"...":(a==null?void 0:a.inquiriesCount)||28}),e.jsxs("p",{className:"text-sm text-white/80",children:[(i==null?void 0:i.filter(s=>!s.responded).length)||5," pending"]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 lg:gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs(n,{className:"border-0 shadow-lg hover:shadow-xl transition-shadow duration-300",children:[e.jsx(l,{className:"bg-gradient-to-r from-purple-50 to-purple-100/50 border-b border-purple-200/30",children:e.jsxs(o,{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"flex items-center gap-3 text-purple-900",children:[e.jsx(N,{className:"h-5 w-5"}),e.jsx("span",{className:"font-semibold",children:"Upcoming Events"})]}),e.jsx(h,{size:"sm",variant:"ghost",className:"hover:bg-purple-200/30",children:"View Calendar"})]})}),e.jsx(c,{className:"p-6",children:e.jsx(_,{className:"h-[350px] pr-4",children:r?e.jsx("div",{className:"space-y-3",children:[1,2,3].map(s=>e.jsxs("div",{className:"p-4 bg-gray-100 rounded-lg animate-pulse",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]},s))}):m&&m.length>0?e.jsx("div",{className:"space-y-4",children:m.map(s=>e.jsxs("div",{className:"p-4 bg-gradient-to-r from-gray-50 to-gray-100/50 rounded-xl hover:from-purple-50 hover:to-purple-100/30 transition-all duration-200 cursor-pointer group border border-gray-200/50",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold text-gray-900 group-hover:text-purple-700 transition-colors",children:s.event_name||s.title}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1 flex items-center gap-2",children:[e.jsx(P,{className:"h-3 w-3"}),s.start_datetime?b(new Date(s.start_datetime),"MMM dd, yyyy â€¢ HH:mm"):"Date TBD"]})]}),e.jsx(x,{variant:"outline",className:f("border-green-200",s.status==="confirmed"?"bg-green-50 text-green-700":s.status==="upcoming"?"bg-blue-50 text-blue-700":"bg-yellow-50 text-yellow-700"),children:s.status})]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(F,{className:"h-3 w-3"}),s.capacity||(t==null?void 0:t.capacity)||500," capacity"]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(y,{className:"h-3 w-3"}),"Main Hall"]})]})]},s.id))}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(N,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500 mb-4",children:"No upcoming events"}),e.jsx(h,{children:"Add Availability"})]})})})]}),e.jsxs(n,{className:"border-0 shadow-lg hover:shadow-xl transition-shadow duration-300",children:[e.jsx(l,{className:"bg-gradient-to-r from-green-50 to-green-100/50 border-b border-green-200/30",children:e.jsxs(o,{className:"flex items-center gap-3 text-green-900",children:[e.jsx(T,{className:"h-5 w-5"}),e.jsx("span",{className:"font-semibold",children:"Recent Bookings"})]})}),e.jsx(c,{className:"p-6",children:e.jsx("div",{className:"space-y-3",children:r?e.jsx("div",{className:"animate-pulse space-y-2",children:[1,2].map(s=>e.jsx("div",{className:"h-12 bg-gray-200 rounded"},s))}):d&&d.length>0?d.slice(0,3).map(s=>e.jsxs("div",{className:"flex items-center justify-between p-3 hover:bg-gray-50 rounded-lg transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:f("h-2 w-2 rounded-full",s.status==="confirmed"?"bg-green-500":s.status==="pending"?"bg-yellow-500":"bg-gray-400")}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:s.eventType||"Event Booking"}),e.jsxs("p",{className:"text-xs text-gray-500",children:[b(new Date(s.booking_date),"MMM dd, yyyy")," â€¢ $",s.total_amount]})]})]}),e.jsx(x,{variant:"outline",className:"text-xs",children:s.status})]},s.id)):e.jsx("p",{className:"text-center text-gray-500 py-4",children:"No recent bookings"})})})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(n,{className:"border-0 shadow-lg hover:shadow-xl transition-shadow duration-300",children:[e.jsx(l,{className:"bg-gradient-to-r from-orange-50 to-orange-100/50 border-b border-orange-200/30",children:e.jsxs(o,{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"flex items-center gap-3 text-orange-900",children:[e.jsx(v,{className:"h-5 w-5"}),e.jsx("span",{className:"font-semibold",children:"Inquiries"})]}),e.jsxs(x,{className:"bg-orange-100 text-orange-700 border-orange-200",children:[(i==null?void 0:i.filter(s=>!s.responded).length)||0," new"]})]})}),e.jsx(c,{className:"p-6",children:e.jsx("div",{className:"space-y-3",children:r?e.jsx("div",{className:"animate-pulse space-y-2",children:[1,2].map(s=>e.jsx("div",{className:"h-16 bg-gray-200 rounded-lg"},s))}):i&&i.length>0?i.slice(0,3).map(s=>e.jsxs("div",{className:"p-3 bg-gradient-to-r from-gray-50 to-gray-100/50 rounded-lg hover:from-orange-50 hover:to-orange-100/30 transition-all duration-200 cursor-pointer group",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h5",{className:"font-medium text-gray-900 group-hover:text-orange-700 transition-colors text-sm",children:s.name||"Inquiry"}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:s.message||"Interested in booking"})]}),!s.responded&&e.jsx(x,{className:"bg-orange-100 text-orange-700 text-xs",children:"New"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-xs text-gray-500",children:b(new Date(s.created_at),"MMM dd")}),e.jsx(h,{size:"sm",variant:"ghost",className:"h-7 text-xs hover:bg-orange-100",children:"Respond"})]})]},s.id)):e.jsx("p",{className:"text-center text-gray-500 py-4",children:"No inquiries"})})})]}),e.jsxs(n,{className:"border-0 shadow-lg hover:shadow-xl transition-shadow duration-300",children:[e.jsx(l,{className:"bg-gradient-to-r from-pink-50 to-pink-100/50 border-b border-pink-200/30",children:e.jsxs(o,{className:"flex items-center gap-3 text-pink-900",children:[e.jsx(y,{className:"h-5 w-5"}),e.jsx("span",{className:"font-semibold",children:"Venue Details"})]})}),e.jsxs(c,{className:"p-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center py-2 border-b",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Capacity"}),e.jsxs("span",{className:"text-sm font-medium",children:[(t==null?void 0:t.capacity)||500," guests"]})]}),e.jsxs("div",{className:"flex justify-between items-center py-2 border-b",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Type"}),e.jsx("span",{className:"text-sm font-medium",children:(t==null?void 0:t.type)||"Event Space"})]}),e.jsxs("div",{className:"flex justify-between items-center py-2 border-b",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Location"}),e.jsx("span",{className:"text-sm font-medium",children:(t==null?void 0:t.location)||"Downtown"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Amenities"}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:["Stage","Lighting","Sound","Parking"].map(s=>e.jsx(x,{variant:"outline",className:"text-xs",children:s},s))})]})]}),e.jsxs(h,{variant:"outline",className:"w-full mt-4",children:[e.jsx(A,{className:"h-4 w-4 mr-2"}),"Update Details"]})]})]})]})]})]})})})};export{X as default};
