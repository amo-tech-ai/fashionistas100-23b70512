import{j as e}from"./ui-vendor-CWP_eYGj.js";import{f as _,r as u}from"./react-vendor-BCzOm2YP.js";import{u as y}from"./clerk-dvj8YAJP.js";import{N as f,C,b,c as N,j as F,d as w,I as i,S as E,e as S,f as q,g as I,h as l,a as x,s as T,n as v}from"./index-hD8Lc50L.js";import{L as s}from"./label-a-1bmka7.js";import{T as D}from"./textarea-XVdDZDZw.js";import"./supabase-Bc-83CNV.js";import"./utils-CgNX-I3X.js";function A(){const m=_(),{user:c}=y(),[o,h]=u.useState(!1),[a,p]=u.useState({title:"",description:"",type:"runway_show",venue_name:"",venue_address:"",date:new Date().toISOString().split("T")[0],start_time:"",end_time:"",capacity:"",price_general:"",price_vip:"",price_sponsor:"",image_url:""}),j=async n=>{n.preventDefault(),h(!0);try{const{data:t,error:d}=await T.from("events").insert({title:a.title,description:a.description,type:a.type,venue_name:a.venue_name,venue_address:a.venue_address,event_date:a.date,start_time:a.start_time,end_time:a.end_time,capacity:parseInt(a.capacity),organizer_id:(c==null?void 0:c.id)||"test-organizer",status:"draft",price_tiers:{general:parseFloat(a.price_general),vip:parseFloat(a.price_vip),sponsor:parseFloat(a.price_sponsor)},image_url:a.image_url}).select().single();if(d)throw d;v.success("Event created successfully!"),m(`/events/${t.id}`)}catch(t){console.error("Error creating event:",t),v.error("Failed to create event. Please try again.")}finally{h(!1)}},r=n=>{const{name:t,value:d}=n.target;p(g=>({...g,[t]:d}))};return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(f,{}),e.jsx("main",{className:"container mx-auto px-4 py-24",children:e.jsx("div",{className:"max-w-3xl mx-auto",children:e.jsxs(C,{children:[e.jsxs(b,{children:[e.jsx(N,{className:"text-3xl font-bold",children:"Create Fashion Event"}),e.jsx(F,{children:"Fill in the details below to create your fashion event."})]}),e.jsx(w,{children:e.jsxs("form",{onSubmit:j,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Basic Information"}),e.jsxs("div",{children:[e.jsx(s,{htmlFor:"title",children:"Event Title *"}),e.jsx(i,{id:"title",name:"title",value:a.title,onChange:r,required:!0,placeholder:"Fashion Week 2025"})]}),e.jsxs("div",{children:[e.jsx(s,{htmlFor:"type",children:"Event Type *"}),e.jsxs(E,{value:a.type,onValueChange:n=>p(t=>({...t,type:n})),children:[e.jsx(S,{children:e.jsx(q,{})}),e.jsxs(I,{children:[e.jsx(l,{value:"runway_show",children:"Runway Show"}),e.jsx(l,{value:"fashion_week",children:"Fashion Week"}),e.jsx(l,{value:"exhibition",children:"Exhibition"}),e.jsx(l,{value:"popup",children:"Pop-up Event"}),e.jsx(l,{value:"workshop",children:"Workshop"})]})]})]}),e.jsxs("div",{children:[e.jsx(s,{htmlFor:"description",children:"Description *"}),e.jsx(D,{id:"description",name:"description",value:a.description,onChange:r,required:!0,rows:5,placeholder:"Describe your fashion event..."})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Venue Information"}),e.jsxs("div",{children:[e.jsx(s,{htmlFor:"venue_name",children:"Venue Name *"}),e.jsx(i,{id:"venue_name",name:"venue_name",value:a.venue_name,onChange:r,required:!0,placeholder:"Grand Palais"})]}),e.jsxs("div",{children:[e.jsx(s,{htmlFor:"venue_address",children:"Venue Address *"}),e.jsx(i,{id:"venue_address",name:"venue_address",value:a.venue_address,onChange:r,required:!0,placeholder:"123 Fashion Ave, New York, NY 10001"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Date and Time"}),e.jsxs("div",{children:[e.jsx(s,{htmlFor:"date",children:"Event Date *"}),e.jsx(i,{id:"date",name:"date",type:"date",value:a.date,onChange:r,required:!0})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(s,{htmlFor:"start_time",children:"Start Time *"}),e.jsx(i,{id:"start_time",name:"start_time",type:"time",value:a.start_time,onChange:r,required:!0})]}),e.jsxs("div",{children:[e.jsx(s,{htmlFor:"end_time",children:"End Time *"}),e.jsx(i,{id:"end_time",name:"end_time",type:"time",value:a.end_time,onChange:r,required:!0})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Capacity and Pricing"}),e.jsxs("div",{children:[e.jsx(s,{htmlFor:"capacity",children:"Event Capacity *"}),e.jsx(i,{id:"capacity",name:"capacity",type:"number",value:a.capacity,onChange:r,required:!0,placeholder:"500"})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(s,{htmlFor:"price_general",children:"General Price ($) *"}),e.jsx(i,{id:"price_general",name:"price_general",type:"number",step:"0.01",value:a.price_general,onChange:r,required:!0,placeholder:"99"})]}),e.jsxs("div",{children:[e.jsx(s,{htmlFor:"price_vip",children:"VIP Price ($) *"}),e.jsx(i,{id:"price_vip",name:"price_vip",type:"number",step:"0.01",value:a.price_vip,onChange:r,required:!0,placeholder:"249"})]}),e.jsxs("div",{children:[e.jsx(s,{htmlFor:"price_sponsor",children:"Sponsor Price ($) *"}),e.jsx(i,{id:"price_sponsor",name:"price_sponsor",type:"number",step:"0.01",value:a.price_sponsor,onChange:r,required:!0,placeholder:"499"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Event Image"}),e.jsxs("div",{children:[e.jsx(s,{htmlFor:"image_url",children:"Image URL"}),e.jsx(i,{id:"image_url",name:"image_url",value:a.image_url,onChange:r,placeholder:"https://example.com/event-image.jpg"})]})]}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx(x,{type:"button",variant:"outline",onClick:()=>m("/admin/dashboard"),disabled:o,children:"Cancel"}),e.jsx(x,{type:"submit",disabled:o,children:o?"Creating...":"Create Event"})]})]})})]})})})]})}export{A as default};
