import{j as e}from"./ui-vendor-CWP_eYGj.js";import{u as U,r as j,L as D}from"./react-vendor-BCzOm2YP.js";import{E as I,N as z,I as T,S as g,e as p,f,g as v,h as a,a as c,L as q,i as E,C as M,b as $,c as R,B as W,d as _,j as G,l as H}from"./index-D8i8dsVp.js";import{S as O,F as J,a as K,U as L,G as Q,I as X,b as Y}from"./utils-CgNX-I3X.js";import"./supabase-Bc-83CNV.js";import"./clerk-dvj8YAJP.js";const ie=()=>{const[o,C]=U(),[N,w]=j.useState([]),[A,k]=j.useState(!0),[F,b]=j.useState(null),[y,B]=j.useState(0),d=o.get("search")||"",h=o.get("verified"),m=o.get("specialty"),x=o.get("location"),u=o.get("sortBy")||"newest",t=parseInt(o.get("page")||"1",10),S=12;j.useEffect(()=>{(async()=>{k(!0),b(null);try{const{data:r,error:l,total:P}=await H({search:d||void 0,verified:h==="true"?!0:void 0,specialty:m||void 0,location:x||void 0,sortBy:u,limit:S,offset:(t-1)*S});if(l){b(l),w([]);return}w(r),B(P||0)}catch(r){b(r instanceof Error?r.message:"Failed to load designers"),w([])}finally{k(!1)}})()},[d,h,m,x,u,t]);const i=(s,r)=>{const l=new URLSearchParams(o);r==="all"||!r?l.delete(s):l.set(s,r),s!=="page"&&l.set("page","1"),C(l)},V=()=>{C({})},n=Math.ceil(y/S);return e.jsx(I,{children:e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(z,{}),e.jsxs("div",{className:"container mx-auto px-4 sm:px-6 py-6 sm:py-8 mt-16 lg:mt-20",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-4xl font-bold font-playfair mb-4",children:"Fashion Designers"}),e.jsx("p",{className:"text-lg text-muted-foreground",children:"Discover talented designers and their unique fashion perspectives"})]}),e.jsx("div",{className:"mb-8 space-y-4",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(O,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),e.jsx(T,{placeholder:"Search designers...",value:d,onChange:s=>i("search",s.target.value),className:"pl-10"})]})}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs(g,{value:h||void 0,onValueChange:s=>i("verified",s),children:[e.jsxs(p,{className:"w-full sm:w-40",children:[e.jsx(J,{className:"h-4 w-4 mr-2"}),e.jsx(f,{placeholder:"All Designers"})]}),e.jsxs(v,{children:[e.jsx(a,{value:"all",children:"All Designers"}),e.jsx(a,{value:"true",children:"Verified Only"})]})]}),e.jsxs(g,{value:m||void 0,onValueChange:s=>i("specialty",s),children:[e.jsx(p,{className:"w-full sm:w-40",children:e.jsx(f,{placeholder:"All Specialties"})}),e.jsxs(v,{children:[e.jsx(a,{value:"all",children:"All Specialties"}),e.jsx(a,{value:"haute-couture",children:"Haute Couture"}),e.jsx(a,{value:"ready-to-wear",children:"Ready-to-Wear"}),e.jsx(a,{value:"sustainable",children:"Sustainable Fashion"}),e.jsx(a,{value:"evening-wear",children:"Evening Wear"}),e.jsx(a,{value:"streetwear",children:"Streetwear"}),e.jsx(a,{value:"bridal",children:"Bridal"})]})]}),e.jsxs(g,{value:x||void 0,onValueChange:s=>i("location",s),children:[e.jsx(p,{className:"w-full sm:w-40",children:e.jsx(f,{placeholder:"All Locations"})}),e.jsxs(v,{children:[e.jsx(a,{value:"all",children:"All Locations"}),e.jsx(a,{value:"bogota",children:"Bogotá"}),e.jsx(a,{value:"medellin",children:"Medellín"}),e.jsx(a,{value:"cali",children:"Cali"}),e.jsx(a,{value:"cartagena",children:"Cartagena"}),e.jsx(a,{value:"barranquilla",children:"Barranquilla"})]})]}),e.jsxs(g,{value:u,onValueChange:s=>i("sortBy",s),children:[e.jsxs(p,{className:"w-full sm:w-40",children:[e.jsx(K,{className:"h-4 w-4 mr-2"}),e.jsx(f,{placeholder:"Sort by"})]}),e.jsxs(v,{children:[e.jsx(a,{value:"newest",children:"Newest First"}),e.jsx(a,{value:"oldest",children:"Oldest First"}),e.jsx(a,{value:"alphabetical",children:"Alphabetical"}),e.jsx(a,{value:"popularity",children:"Most Popular"})]})]})]}),(d||h||m||x||u!=="newest")&&e.jsx(c,{variant:"outline",onClick:V,className:"w-full sm:w-auto",children:"Clear Filters"})]})}),A?e.jsx(q,{variant:"card",count:6}):F?e.jsx(E,{icon:e.jsx(L,{className:"h-8 w-8 text-muted-foreground"}),title:"Failed to load designers",description:F,action:{label:"Try Again",onClick:()=>window.location.reload()}}):N.length===0?e.jsx(E,{icon:e.jsx(L,{className:"h-8 w-8 text-muted-foreground"}),title:"No designers found",description:d||h||m||x||u!=="newest"?"Try adjusting your filters to see more designers":"No designers are available at the moment",action:d||h||m||x||u!=="newest"?{label:"Clear Filters",onClick:V}:void 0}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mb-6 flex items-center justify-between",children:e.jsxs("p",{className:"text-muted-foreground",children:["Showing ",N.length," of ",y," designer",y!==1?"s":""]})}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 sm:gap-6 mb-8",children:N.map(s=>e.jsxs(M,{className:"group hover:shadow-lg transition-all duration-300",children:[e.jsx($,{className:"pb-3",children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx(R,{className:"group-hover:text-primary transition-colors text-lg sm:text-xl truncate",children:e.jsx(D,{to:`/designers/${s.brandSlug}`,children:s.brandName})}),s.isVerified&&e.jsx(W,{variant:"default",className:"mt-2 text-xs",children:"Verified Designer"})]})})}),e.jsxs(_,{className:"space-y-4 pt-0",children:[s.bio&&e.jsx(G,{className:"line-clamp-3 text-sm leading-relaxed",children:s.bio}),s.portfolioUrls.length>0&&e.jsx("div",{className:"grid grid-cols-3 gap-2",children:s.portfolioUrls.slice(0,3).map((r,l)=>e.jsx("div",{className:"aspect-square bg-muted rounded-lg overflow-hidden",children:e.jsx("img",{src:r,alt:`${s.brandName} portfolio ${l+1}`,className:"w-full h-full object-cover hover:scale-105 transition-transform duration-300",loading:"lazy"})},l))}),e.jsxs("div",{className:"flex items-center justify-between gap-2 pt-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[s.websiteUrl&&e.jsx(c,{variant:"outline",size:"sm",asChild:!0,children:e.jsx("a",{href:s.websiteUrl,target:"_blank",rel:"noopener noreferrer","aria-label":"Visit website",children:e.jsx(Q,{className:"h-4 w-4"})})}),s.socialLinks.instagram&&e.jsx(c,{variant:"outline",size:"sm",asChild:!0,children:e.jsx("a",{href:s.socialLinks.instagram,target:"_blank",rel:"noopener noreferrer","aria-label":"Visit Instagram",children:e.jsx(X,{className:"h-4 w-4"})})})]}),e.jsx(c,{variant:"outline",size:"sm",asChild:!0,className:"shrink-0",children:e.jsxs(D,{to:`/designers/${s.brandSlug}`,children:[e.jsx("span",{className:"hidden sm:inline",children:"View Profile"}),e.jsx("span",{className:"sm:hidden",children:"View"}),e.jsx(Y,{className:"h-4 w-4 ml-1 sm:ml-2"})]})})]})]})]},s.id))}),n>1&&e.jsxs("div",{className:"flex justify-center items-center gap-2",children:[e.jsx(c,{variant:"outline",disabled:t<=1,onClick:()=>i("page",String(t-1)),children:"Previous"}),e.jsxs("div",{className:"flex items-center gap-1",children:[Array.from({length:Math.min(5,n)},(s,r)=>{const l=r+1;return e.jsx(c,{variant:l===t?"default":"outline",size:"sm",onClick:()=>i("page",String(l)),children:l},l)}),n>5&&e.jsxs(e.Fragment,{children:[n>6&&e.jsx("span",{className:"px-2",children:"..."}),e.jsx(c,{variant:n===t?"default":"outline",size:"sm",onClick:()=>i("page",String(n)),children:n})]})]}),e.jsx(c,{variant:"outline",disabled:t>=n,onClick:()=>i("page",String(t+1)),children:"Next"})]})]})]})]})})};export{ie as default};
