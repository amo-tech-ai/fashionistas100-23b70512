import{j as e}from"./ui-vendor-CWP_eYGj.js";import{f as S,r as B}from"./react-vendor-BCzOm2YP.js";import{B as D,a as f,C as c,b as m,c as x,d as h,m as C}from"./index-hD8Lc50L.js";import{S as P}from"./scroll-area-DkBki9q3.js";import{A as U,a as K}from"./avatar-DdPqRXcW.js";import{P as F}from"./progress-5xElflpB.js";import{D as V}from"./DashboardLayout-C-PEpEIB.js";import{u as v}from"./useQuery-B78G5QkG.js";import{s as _}from"./supabase-h9YFjl6R.js";import{u as L}from"./clerk-dvj8YAJP.js";import{z as Q,O as $,o as R,E as A,J as M,C as q,x as k,D as T,P as z,Y as H,_ as G,s as O,U as Y,$ as E,T as I}from"./utils-CgNX-I3X.js";import"./supabase-Bc-83CNV.js";const J=()=>{var n,l,j;const{user:w}=L(),g=(w==null?void 0:w.id)||"guest-designer",d=v({queryKey:["designer-profile",g],queryFn:async()=>{const{data:a,error:i}=await _.from("designer_profiles").select("*").eq("user_id",g).single();if(i||!a){const{data:s}=await _.from("designer_profiles").select("*").limit(1).single();return s||{id:g,brand_name:"Fashion Studio",bio:"Contemporary fashion designer",style_category:"Modern Elegance",years_experience:5,portfolio_url:"#",instagram:"@fashionstudio",verified:!1}}return a}}),t=v({queryKey:["designer-revenue",g],queryFn:async()=>{var N;const{data:a}=await _.from("designer_bookings").select("amount, status, created_at").eq("designer_id",(N=d.data)==null?void 0:N.id),i=(a==null?void 0:a.reduce((r,y)=>r+Number(y.amount||0),0))||0,s=(a==null?void 0:a.filter(r=>r.status==="confirmed").reduce((r,y)=>r+Number(y.amount||0),0))||0,b=(a==null?void 0:a.filter(r=>new Date(r.created_at).getMonth()===new Date().getMonth()).reduce((r,y)=>r+Number(y.amount||0),0))||0;return{total:i,confirmed:s,thisMonth:b,formatted:`$${(i/1e3).toFixed(1)}K`,growth:i>0?12:0}},enabled:!!((n=d.data)!=null&&n.id)}),p=v({queryKey:["designer-bookings",g],queryFn:async()=>{var N;const{data:a}=await _.from("designer_bookings").select("*").eq("designer_id",(N=d.data)==null?void 0:N.id).order("created_at",{ascending:!1}),i=(a==null?void 0:a.filter(r=>r.status==="pending").length)||0,s=(a==null?void 0:a.filter(r=>r.status==="confirmed").length)||0,b=(a==null?void 0:a.length)||0;return{pending:i,confirmed:s,total:b,bookings:a||[]}},enabled:!!((l=d.data)!=null&&l.id)}),o=v({queryKey:["designer-events",g],queryFn:async()=>{var N;const{data:a}=await _.from("event_designers").select(`
          *,
          events(*)
        `).eq("designer_id",(N=d.data)==null?void 0:N.id),i=(a==null?void 0:a.map(r=>r.events))||[],s=i.filter(r=>new Date(r.start_datetime)>new Date).length,b=i.filter(r=>new Date(r.start_datetime)<new Date).length;return{total:i.length,upcoming:s,completed:b,events:i.slice(0,5)}},enabled:!!((j=d.data)!=null&&j.id)}),u=v({queryKey:["designer-analytics",g],queryFn:async()=>({portfolioViews:Math.floor(Math.random()*1e3)+500,profileEngagement:Math.floor(Math.random()*50)+25,socialFollowers:Math.floor(Math.random()*5e3)+1e3,averageRating:4.2+Math.random()*.8})});return{profile:d.data,revenue:t.data,bookings:p.data,events:o.data,analytics:u.data,collections:[],opportunities:[],isLoading:d.isLoading||t.isLoading,error:d.error||t.error}},oe=()=>{var i;const w=S(),[g,d]=B.useState(null),{profile:t,revenue:p,events:o,collections:u,bookings:n,analytics:l,opportunities:j,isLoading:a}=J();return e.jsx(V,{children:e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-gray-50 to-gray-100",children:e.jsxs("div",{className:"container mx-auto max-w-[1400px] px-4 sm:px-6 lg:px-8 py-6 lg:py-8",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(U,{className:"h-16 w-16 ring-2 ring-white shadow-xl",children:e.jsx(K,{className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white",children:((i=t==null?void 0:t.brand_name)==null?void 0:i[0])||"D"})}),e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl lg:text-4xl font-bold text-gray-900",children:[(t==null?void 0:t.brand_name)||"Designer"," Studio"]}),e.jsxs("p",{className:"text-gray-600 mt-1",children:[(t==null?void 0:t.style_category)||"Fashion Designer"," â€¢ ",(t==null?void 0:t.years_experience)||5," years experience"]}),(t==null?void 0:t.verified)&&e.jsxs(D,{className:"mt-2 bg-blue-500 text-white",children:[e.jsx(Q,{className:"h-3 w-3 mr-1"}),"Verified Designer"]})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(f,{variant:"outline",className:"bg-white",onClick:()=>w("/admin/portfolio-upload"),children:[e.jsx($,{className:"h-4 w-4 mr-2"}),"Upload Portfolio"]}),e.jsxs(f,{className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700",onClick:()=>w("/admin/collection-manager"),children:[e.jsx(R,{className:"h-4 w-4 mr-2"}),"New Collection"]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 lg:gap-6 mb-8",children:[e.jsxs(c,{className:"relative overflow-hidden border-0 shadow-lg hover:shadow-xl transition-all duration-300 bg-gradient-to-br from-purple-500 to-purple-600",children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white opacity-5 rounded-full -mr-16 -mt-16"}),e.jsx(m,{className:"pb-2",children:e.jsxs(x,{className:"text-sm font-medium text-white/90 flex items-center gap-2",children:[e.jsx("div",{className:"p-2 bg-white/20 rounded-lg",children:e.jsx(A,{className:"h-5 w-5 text-white"})}),"Portfolio Views"]})}),e.jsxs(h,{children:[e.jsx("div",{className:"text-4xl font-bold text-white mb-1",children:a?e.jsx("div",{className:"animate-pulse bg-white/20 rounded h-10 w-16"}):`${(((l==null?void 0:l.portfolioViews)||1200)/1e3).toFixed(1)}K`}),e.jsxs("p",{className:"text-sm text-white/80 flex items-center gap-1",children:[e.jsx(M,{className:"h-3 w-3"}),"+",(l==null?void 0:l.viewsGrowth)||32,"% this month"]})]})]}),e.jsxs(c,{className:"relative overflow-hidden border-0 shadow-lg hover:shadow-xl transition-all duration-300 bg-gradient-to-br from-green-500 to-emerald-600",children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white opacity-5 rounded-full -mr-16 -mt-16"}),e.jsx(m,{className:"pb-2",children:e.jsxs(x,{className:"text-sm font-medium text-white/90 flex items-center gap-2",children:[e.jsx("div",{className:"p-2 bg-white/20 rounded-lg",children:e.jsx(q,{className:"h-5 w-5 text-white"})}),"Upcoming Shows"]})}),e.jsxs(h,{children:[e.jsx("div",{className:"text-4xl font-bold text-white mb-1",children:a?e.jsx("div",{className:"animate-pulse bg-white/20 rounded h-10 w-12"}):(o==null?void 0:o.upcoming)||3}),e.jsxs("p",{className:"text-sm text-white/80",children:["Next ",(u==null?void 0:u.filter(s=>s.status==="in-progress").length)||2," weeks"]})]})]}),e.jsxs(c,{className:"relative overflow-hidden border-0 shadow-lg hover:shadow-xl transition-all duration-300 bg-gradient-to-br from-orange-500 to-amber-600",children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white opacity-5 rounded-full -mr-16 -mt-16"}),e.jsx(m,{className:"pb-2",children:e.jsxs(x,{className:"text-sm font-medium text-white/90 flex items-center gap-2",children:[e.jsx("div",{className:"p-2 bg-white/20 rounded-lg",children:e.jsx(k,{className:"h-5 w-5 text-white"})}),"Bookings"]})}),e.jsxs(h,{children:[e.jsx("div",{className:"text-4xl font-bold text-white mb-1",children:a?e.jsx("div",{className:"animate-pulse bg-white/20 rounded h-10 w-12"}):(n==null?void 0:n.total)||24}),e.jsxs("p",{className:"text-sm text-white/80 flex items-center gap-1",children:[e.jsx(M,{className:"h-3 w-3"}),"+",(l==null?void 0:l.bookingsGrowth)||15,"% growth"]})]})]}),e.jsxs(c,{className:"relative overflow-hidden border-0 shadow-lg hover:shadow-xl transition-all duration-300 bg-gradient-to-br from-pink-500 to-rose-600",children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white opacity-5 rounded-full -mr-16 -mt-16"}),e.jsx(m,{className:"pb-2",children:e.jsxs(x,{className:"text-sm font-medium text-white/90 flex items-center gap-2",children:[e.jsx("div",{className:"p-2 bg-white/20 rounded-lg",children:e.jsx(T,{className:"h-5 w-5 text-white"})}),"Revenue"]})}),e.jsxs(h,{children:[e.jsx("div",{className:"text-4xl font-bold text-white mb-1",children:a?e.jsx("div",{className:"animate-pulse bg-white/20 rounded h-10 w-16"}):(p==null?void 0:p.formatted)||"$48K"}),e.jsxs("p",{className:"text-sm text-white/80 flex items-center gap-1",children:[e.jsx(M,{className:"h-3 w-3"}),"+",(p==null?void 0:p.growth)||22,"% YTD"]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 lg:gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs(c,{className:"border-0 shadow-lg hover:shadow-xl transition-shadow duration-300",children:[e.jsx(m,{className:"bg-gradient-to-r from-purple-50 to-purple-100/50 border-b border-purple-200/30",children:e.jsxs(x,{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"flex items-center gap-3 text-purple-900",children:[e.jsx(z,{className:"h-5 w-5"}),e.jsx("span",{className:"font-semibold",children:"My Collections"})]}),e.jsx(f,{size:"sm",variant:"ghost",className:"hover:bg-purple-200/30",children:"View All"})]})}),e.jsx(h,{className:"p-6",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:a?[1,2].map(s=>e.jsx("div",{className:"aspect-[4/3] bg-gray-200 rounded-lg animate-pulse"},s)):u==null?void 0:u.slice(0,4).map(s=>e.jsxs("div",{className:"group cursor-pointer",onClick:()=>d(s),children:[e.jsx("div",{className:"aspect-[4/3] bg-gradient-to-br from-purple-400 to-pink-400 rounded-xl overflow-hidden shadow-md hover:shadow-xl transition-all duration-300",children:e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx(H,{className:"h-12 w-12 text-white/50"})})}),e.jsxs("div",{className:"mt-3",children:[e.jsx("h4",{className:"font-semibold text-gray-900 group-hover:text-purple-700 transition-colors",children:s.name}),e.jsxs("div",{className:"flex items-center justify-between mt-1",children:[e.jsxs("p",{className:"text-sm text-gray-600",children:[s.pieces," pieces"]}),e.jsx(D,{variant:"outline",className:C("text-xs",s.status==="completed"?"bg-green-50 text-green-700 border-green-200":s.status==="in-progress"?"bg-yellow-50 text-yellow-700 border-yellow-200":"bg-gray-50 text-gray-700 border-gray-200"),children:s.status})]})]})]},s.id))})})]}),e.jsxs(c,{className:"border-0 shadow-lg hover:shadow-xl transition-shadow duration-300",children:[e.jsx(m,{className:"bg-gradient-to-r from-green-50 to-green-100/50 border-b border-green-200/30",children:e.jsxs(x,{className:"flex items-center gap-3 text-green-900",children:[e.jsx(q,{className:"h-5 w-5"}),e.jsx("span",{className:"font-semibold",children:"Upcoming Shows & Events"})]})}),e.jsx(h,{className:"p-6",children:e.jsx(P,{className:"h-[300px] pr-4",children:a?e.jsx("div",{className:"space-y-3",children:[1,2,3].map(s=>e.jsxs("div",{className:"p-3 bg-gray-100 rounded-lg animate-pulse",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]},s))}):(o==null?void 0:o.length)>0?e.jsx("div",{className:"space-y-3",children:o.slice(0,5).map(s=>e.jsxs("div",{className:"p-4 bg-gradient-to-r from-gray-50 to-gray-100/50 rounded-xl hover:from-green-50 hover:to-green-100/30 transition-all duration-200 cursor-pointer group border border-gray-200/50",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold text-gray-900 group-hover:text-green-700 transition-colors",children:s.event_name||s.title}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:s.start_datetime?G(new Date(s.start_datetime),"MMM dd, yyyy â€¢ HH:mm"):"Date TBD"})]}),e.jsx(D,{variant:"outline",className:"bg-purple-50 text-purple-700 border-purple-200",children:s.collection})]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(O,{className:"h-3 w-3"}),s.pieces," pieces"]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Y,{className:"h-3 w-3"}),s.models," models"]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(A,{className:"h-3 w-3"}),s.bookings," bookings"]})]})]},s.id))}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(q,{className:"h-10 w-10 text-gray-300 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-500",children:"No upcoming shows"}),e.jsx(f,{variant:"outline",className:"mt-3",children:"Apply to Events"})]})})})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(c,{className:"border-0 shadow-lg hover:shadow-xl transition-shadow duration-300",children:[e.jsx(m,{className:"bg-gradient-to-r from-orange-50 to-orange-100/50 border-b border-orange-200/30",children:e.jsxs(x,{className:"flex items-center gap-3 text-orange-900",children:[e.jsx(E,{className:"h-5 w-5"}),e.jsx("span",{className:"font-semibold",children:"Opportunities"})]})}),e.jsx(h,{className:"p-6",children:e.jsxs("div",{className:"space-y-3",children:[a?e.jsx("div",{className:"animate-pulse space-y-2",children:[1,2].map(s=>e.jsx("div",{className:"h-16 bg-gray-200 rounded-lg"},s))}):j==null?void 0:j.slice(0,3).map(s=>e.jsxs("div",{className:"p-3 bg-gradient-to-r from-gray-50 to-gray-100/50 rounded-lg hover:from-orange-50 hover:to-orange-100/30 transition-all duration-200 cursor-pointer group",children:[e.jsx("div",{className:"flex justify-between items-start mb-2",children:e.jsxs("div",{className:"flex-1",children:[e.jsx("h5",{className:"font-medium text-gray-900 group-hover:text-orange-700 transition-colors text-sm",children:s.event_name||s.title}),e.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:["Apply by: ",s.applicationDeadline]})]})}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-xs text-gray-600",children:[s.slotsAvailable," slots â€¢ $",s.compensation]}),e.jsx(f,{size:"sm",variant:"ghost",className:"h-7 text-xs hover:bg-orange-100",children:"Apply"})]})]},s.id)),j&&j.length===0&&!a&&e.jsxs("div",{className:"text-center py-4",children:[e.jsx(E,{className:"h-8 w-8 text-gray-300 mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-gray-500",children:"No new opportunities"})]})]})})]}),e.jsxs(c,{className:"border-0 shadow-lg hover:shadow-xl transition-shadow duration-300",children:[e.jsx(m,{className:"bg-gradient-to-r from-pink-50 to-pink-100/50 border-b border-pink-200/30",children:e.jsxs(x,{className:"flex items-center gap-3 text-pink-900",children:[e.jsx(k,{className:"h-5 w-5"}),e.jsx("span",{className:"font-semibold",children:"Recent Bookings"})]})}),e.jsxs(h,{className:"p-6",children:[e.jsx("div",{className:"space-y-3",children:a?e.jsx("div",{className:"animate-pulse space-y-2",children:[1,2,3].map(s=>e.jsx("div",{className:"h-12 bg-gray-200 rounded"},s))}):(n==null?void 0:n.length)>0?n.slice(0,4).map(s=>e.jsxs("div",{className:"flex items-center justify-between p-2 hover:bg-gray-50 rounded-lg transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:C("h-2 w-2 rounded-full",s.status==="confirmed"?"bg-green-500":s.status==="pending"?"bg-yellow-500":"bg-gray-400")}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:s.type}),e.jsx("p",{className:"text-xs text-gray-500",children:s.client})]})]}),e.jsx(D,{variant:"outline",className:C("text-xs",s.status==="confirmed"?"bg-green-50 text-green-700 border-green-200":s.status==="pending"?"bg-yellow-50 text-yellow-700 border-yellow-200":"bg-gray-50 text-gray-700 border-gray-200"),children:s.status})]},s.id)):e.jsxs("div",{className:"text-center py-4",children:[e.jsx(k,{className:"h-8 w-8 text-gray-300 mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-gray-500",children:"No bookings yet"})]})}),n&&n.length>4&&e.jsx(f,{variant:"outline",className:"w-full mt-4",children:"View All Bookings"})]})]}),e.jsxs(c,{className:"border-0 shadow-lg hover:shadow-xl transition-shadow duration-300",children:[e.jsx(m,{className:"bg-gradient-to-r from-blue-50 to-blue-100/50 border-b border-blue-200/30",children:e.jsxs(x,{className:"flex items-center gap-3 text-blue-900",children:[e.jsx(I,{className:"h-5 w-5"}),e.jsx("span",{className:"font-semibold",children:"Performance"})]})}),e.jsx(h,{className:"p-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Engagement Rate"}),e.jsxs("span",{className:"text-sm text-gray-600",children:[(((l==null?void 0:l.totalLikes)||0)/((l==null?void 0:l.totalViews)||1)*100).toFixed(1),"%"]})]}),e.jsx(F,{value:68,className:"h-2"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Booking Conversion"}),e.jsx("span",{className:"text-sm text-gray-600",children:"42%"})]}),e.jsx(F,{value:42,className:"h-2"})]})]})})]})]})]})]})})})};export{oe as default};
